<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GEOS: geos::index::kdtree::KdTree Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GEOS
   &#160;<span id="projectnumber">3.11.0dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegeos.html">geos</a></li><li class="navelem"><a class="el" href="namespacegeos_1_1index.html">index</a></li><li class="navelem"><b>kdtree</b></li><li class="navelem"><a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdTree.html">KdTree</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classgeos_1_1index_1_1kdtree_1_1KdTree-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">geos::index::kdtree::KdTree Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="KdTree_8h_source.html">KdTree.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a561b234a719b39132d32b6c64a49d578"><td class="memItemLeft" align="right" valign="top"><a id="a561b234a719b39132d32b6c64a49d578"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>KdTree</b> (double p_tolerance)</td></tr>
<tr class="separator:a561b234a719b39132d32b6c64a49d578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470a7525a3aad237b49ccc540d0dce0b"><td class="memItemLeft" align="right" valign="top"><a id="a470a7525a3aad237b49ccc540d0dce0b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isEmpty</b> ()</td></tr>
<tr class="separator:a470a7525a3aad237b49ccc540d0dce0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f788f3ee397edd7c35a36b5c81a3afc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdTree.html#a2f788f3ee397edd7c35a36b5c81a3afc">insert</a> (const <a class="el" href="classgeos_1_1geom_1_1Coordinate.html">geom::Coordinate</a> &amp;p)</td></tr>
<tr class="separator:a2f788f3ee397edd7c35a36b5c81a3afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdb994af2e256ad9c8981f402ac60946"><td class="memItemLeft" align="right" valign="top"><a id="abdb994af2e256ad9c8981f402ac60946"></a>
<a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>insert</b> (const <a class="el" href="classgeos_1_1geom_1_1Coordinate.html">geom::Coordinate</a> &amp;p, void *data)</td></tr>
<tr class="separator:abdb994af2e256ad9c8981f402ac60946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d4db63499e7a90ce4b17d9099a04cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdTree.html#ab3d4db63499e7a90ce4b17d9099a04cb">query</a> (const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> &amp;queryEnv, KdNodeVisitor &amp;visitor)</td></tr>
<tr class="separator:ab3d4db63499e7a90ce4b17d9099a04cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4f413af1ea46e02b7dd71e40ba18d9c"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; std::vector&lt; <a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdTree.html#ad4f413af1ea46e02b7dd71e40ba18d9c">query</a> (const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> &amp;queryEnv)</td></tr>
<tr class="separator:ad4f413af1ea46e02b7dd71e40ba18d9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2b2594777c4de975be3dd6f02007ab5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdTree.html#ad2b2594777c4de975be3dd6f02007ab5">query</a> (const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> &amp;queryEnv, std::vector&lt; <a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a> * &gt; &amp;result)</td></tr>
<tr class="separator:ad2b2594777c4de975be3dd6f02007ab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d12028482b91624818b9629426c4524"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdTree.html#a2d12028482b91624818b9629426c4524">query</a> (const <a class="el" href="classgeos_1_1geom_1_1Coordinate.html">geom::Coordinate</a> &amp;queryPt)</td></tr>
<tr class="separator:a2d12028482b91624818b9629426c4524"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5ccf694fcaf81c2d242b844e347842fe"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; std::vector&lt; <a class="el" href="classgeos_1_1geom_1_1Coordinate.html">geom::Coordinate</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdTree.html#a5ccf694fcaf81c2d242b844e347842fe">toCoordinates</a> (std::vector&lt; <a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a> * &gt; &amp;kdnodes)</td></tr>
<tr class="separator:a5ccf694fcaf81c2d242b844e347842fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6835385c009ecfc17c666142e921cf53"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; std::vector&lt; <a class="el" href="classgeos_1_1geom_1_1Coordinate.html">geom::Coordinate</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdTree.html#a6835385c009ecfc17c666142e921cf53">toCoordinates</a> (std::vector&lt; <a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a> * &gt; &amp;kdnodes, bool includeRepeated)</td></tr>
<tr class="separator:a6835385c009ecfc17c666142e921cf53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An implementation of a 2-D KD-Tree. KD-trees provide fast range searching on point data. </p>
<p>This implementation supports detecting and snapping points which are closer than a given distance tolerance. If the same point (up to tolerance) is inserted more than once, it is snapped to the existing node. In other words, if a point is inserted which lies within the tolerance of a node already in the index, it is snapped to that node. When a point is snapped to a node then a new node is not created but the count of the existing node is incremented. If more than one node in the tree is within tolerance of an inserted point, the closest and then lowest node is snapped to.</p>
<dl class="section author"><dt>Author</dt><dd>David Skea </dd>
<dd>
Martin Davis </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2f788f3ee397edd7c35a36b5c81a3afc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f788f3ee397edd7c35a36b5c81a3afc">&#9670;&nbsp;</a></span>insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a>* geos::index::kdtree::KdTree::insert </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeos_1_1geom_1_1Coordinate.html">geom::Coordinate</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inserts a new point in the kd-tree. </p>

</div>
</div>
<a id="a2d12028482b91624818b9629426c4524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d12028482b91624818b9629426c4524">&#9670;&nbsp;</a></span>query() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a>* geos::index::kdtree::KdTree::query </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeos_1_1geom_1_1Coordinate.html">geom::Coordinate</a> &amp;&#160;</td>
          <td class="paramname"><em>queryPt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Searches for a given point in the index and returns its node if found. </p>

</div>
</div>
<a id="ad4f413af1ea46e02b7dd71e40ba18d9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4f413af1ea46e02b7dd71e40ba18d9c">&#9670;&nbsp;</a></span>query() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;std::vector&lt;<a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a>*&gt; &gt; geos::index::kdtree::KdTree::query </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> &amp;&#160;</td>
          <td class="paramname"><em>queryEnv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a range search of the points in the index. </p>

</div>
</div>
<a id="ab3d4db63499e7a90ce4b17d9099a04cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d4db63499e7a90ce4b17d9099a04cb">&#9670;&nbsp;</a></span>query() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geos::index::kdtree::KdTree::query </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> &amp;&#160;</td>
          <td class="paramname"><em>queryEnv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KdNodeVisitor &amp;&#160;</td>
          <td class="paramname"><em>visitor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a range search of the points in the index and visits all nodes found. </p>

</div>
</div>
<a id="ad2b2594777c4de975be3dd6f02007ab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2b2594777c4de975be3dd6f02007ab5">&#9670;&nbsp;</a></span>query() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geos::index::kdtree::KdTree::query </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> &amp;&#160;</td>
          <td class="paramname"><em>queryEnv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a range search of the points in the index. </p>

</div>
</div>
<a id="a5ccf694fcaf81c2d242b844e347842fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ccf694fcaf81c2d242b844e347842fe">&#9670;&nbsp;</a></span>toCoordinates() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::unique_ptr&lt;std::vector&lt;<a class="el" href="classgeos_1_1geom_1_1Coordinate.html">geom::Coordinate</a>&gt; &gt; geos::index::kdtree::KdTree::toCoordinates </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>kdnodes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Converts a collection of <a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a>s to an vector of <a class="el" href="classgeos_1_1geom_1_1Coordinate.html">geom::Coordinate</a>s.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kdnodes</td><td>a collection of nodes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an vector of the coordinates represented by the nodes </dd></dl>

</div>
</div>
<a id="a6835385c009ecfc17c666142e921cf53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6835385c009ecfc17c666142e921cf53">&#9670;&nbsp;</a></span>toCoordinates() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::unique_ptr&lt;std::vector&lt;<a class="el" href="classgeos_1_1geom_1_1Coordinate.html">geom::Coordinate</a>&gt; &gt; geos::index::kdtree::KdTree::toCoordinates </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>kdnodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeRepeated</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Converts a collection of <a class="el" href="classgeos_1_1index_1_1kdtree_1_1KdNode.html">KdNode</a>s to an vector of <a class="el" href="classgeos_1_1geom_1_1Coordinate.html">geom::Coordinate</a>s, specifying whether repeated nodes should be represented by multiple coordinates.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kdnodes</td><td>a collection of nodes </td></tr>
    <tr><td class="paramname">includeRepeated</td><td>true if repeated nodes should be included multiple times </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an vector of the coordinates represented by the nodes </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="KdTree_8h_source.html">KdTree.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
