<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GEOS: geos::operation::geounion::OverlapUnion Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GEOS
   &#160;<span id="projectnumber">3.11.0dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegeos.html">geos</a></li><li class="navelem"><a class="el" href="namespacegeos_1_1operation.html">operation</a></li><li class="navelem"><a class="el" href="namespacegeos_1_1operation_1_1geounion.html">geounion</a></li><li class="navelem"><a class="el" href="classgeos_1_1operation_1_1geounion_1_1OverlapUnion.html">OverlapUnion</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgeos_1_1operation_1_1geounion_1_1OverlapUnion-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">geos::operation::geounion::OverlapUnion Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Unions MultiPolygons efficiently by using full topological union only for polygons which may overlap by virtue of intersecting the common area of the inputs.  
 <a href="classgeos_1_1operation_1_1geounion_1_1OverlapUnion.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="OverlapUnion_8h_source.html">OverlapUnion.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5d0df327659e0ca00a4e00d88b985af1"><td class="memItemLeft" align="right" valign="top"><a id="a5d0df327659e0ca00a4e00d88b985af1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OverlapUnion</b> (const <a class="el" href="classgeos_1_1geom_1_1Geometry.html">geom::Geometry</a> *p_g0, const <a class="el" href="classgeos_1_1geom_1_1Geometry.html">geom::Geometry</a> *p_g1, <a class="el" href="classgeos_1_1operation_1_1geounion_1_1UnionStrategy.html">geounion::UnionStrategy</a> *unionFun)</td></tr>
<tr class="separator:a5d0df327659e0ca00a4e00d88b985af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75086c7d4d2cd5d3bfa458b36d71a3af"><td class="memItemLeft" align="right" valign="top"><a id="a75086c7d4d2cd5d3bfa458b36d71a3af"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OverlapUnion</b> (const <a class="el" href="classgeos_1_1geom_1_1Geometry.html">geom::Geometry</a> *p_g0, const <a class="el" href="classgeos_1_1geom_1_1Geometry.html">geom::Geometry</a> *p_g1)</td></tr>
<tr class="separator:a75086c7d4d2cd5d3bfa458b36d71a3af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a483a73aa542924195881c6f6ae924d8b"><td class="memItemLeft" align="right" valign="top"><a id="a483a73aa542924195881c6f6ae924d8b"></a>
std::unique_ptr&lt; <a class="el" href="classgeos_1_1geom_1_1Geometry.html">geom::Geometry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>doUnion</b> ()</td></tr>
<tr class="separator:a483a73aa542924195881c6f6ae924d8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Unions MultiPolygons efficiently by using full topological union only for polygons which may overlap by virtue of intersecting the common area of the inputs. </p>
<p>Other polygons are simply combined with the union result, which is much more performant.</p>
<p>This situation is likely to occur during cascaded polygon union, since the partitioning of polygons is done heuristically and thus may group disjoint polygons which can lie far apart. It may also occur in real world data which contains many disjoint polygons (e.g. polygons representing parcels on different street blocks).</p>
<h1>Algorithm</h1>
<p>The overlap region is determined as the common envelope of intersection. The input polygons are partitioned into two sets:</p>
<ul>
<li>Overlapping: Polygons which intersect the overlap region, and thus potentially overlap each other</li>
<li>Disjoint: Polygons which are disjoint from (lie wholly outside) the overlap region</li>
</ul>
<p>The Overlapping set is fully unioned, and then combined with the Disjoint set. Performing a simple combine works because the disjoint polygons do not interact with each other (since the inputs are valid MultiPolygons). They also do not interact with the Overlapping polygons, since they are outside their envelope.</p>
<h1>Verification</h1>
<p>In the general case the Overlapping set of polygons will extend beyond the overlap envelope. This means that the union result will extend beyond the overlap region. There is a small chance that the topological union of the overlap region will shift the result linework enough that the result geometry intersects one of the Disjoint geometries. This case is detected and if it occurs is remedied by falling back to performing a full union of the original inputs. Detection is done by a fairly efficient comparison of edge segments which extend beyond the overlap region. If any segments have changed then there is a risk of introduced intersections, and full union is performed.</p>
<p>This situation has not been observed in JTS using floating precision, but it could happen due to snapping. It has been observed in other APIs (e.g. GEOS) due to more aggressive snapping. And it will be more likely to happen if a snap-rounding overlay is used.</p>
<p>DEPRECATED: This optimization has been removed, since it impairs performance.</p>
<dl class="section author"><dt>Author</dt><dd>mbdavis </dd></dl>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="OverlapUnion_8h_source.html">OverlapUnion.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
